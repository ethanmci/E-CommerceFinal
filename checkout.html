<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Checkout</title>
    <link rel="icon" href="../E-CommerceFinal/tempImage/sickkicks.png">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="main-style.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.0/css/all.css" integrity="sha384-Mmxa0mLqhmOeaE8vgOSbKacftZcsNYDjQzuCOm6D02luYSzBG8vpaOykv9lFQ51Y" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,800" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
</head>
<body>
    <!----------------------------------------------------------------------------------HEADER HEADER HEADER HEADER---------------------------------------------------------------------------------->
    <header>
        <div id="main-header" class="container-fluid" style="margin:0; padding-left: 5%; padding-right: 5%;">
            <div class="row">
                <!--LOGO-->
                <div id="logo" class="col-1" style="padding: 1%;">
                    <a class="btn" href="../E-CommerceFinal/home.html" role="button">
                        <img src="../E-CommerceFinal/tempImage/sickkickswhite.png" height="34" width="50" />
                    </a>

                </div>
                <div class="col-7" style="padding: 0%;" id="center-col">
                    <!--MAIN NAV BUTTONS-->
                    <nav class="navigation" role="Navigation">
                        <ul>
                            <li><a href="../E-CommerceFinal/home.html">Home</a></li>
                            <li id="dropdown-toggle">
                                <a href="../E-CommerceFinal/products.html">Shop for Shoes  <i class="fa fa-caret-down"></i></a>
                                <ul id="dropdown">
                                    <li><a href="../E-CommerceFinal/products.html">Mens</a></li>
                                    <li><a href="../E-CommerceFinal/products.html">Womens</a></li>
                                    <li><a href="../E-CommerceFinal/products.html">Nike</a></li>
                                    <li><a href="../E-CommerceFinal/products.html">Adidas</a></li>
                                    <li><a href="../E-CommerceFinal/products.html">Other</a></li>
                                </ul>
                            </li>

                            <li><a href="../E-CommerceFinal/about.html">About</a></li>
                        </ul>
                    </nav>

                </div>

                <!--SECONDARY NAV BUTTONS-->
                <div class="col text-right" style="padding: 1%;">
                    <div class="form-inline" style="float: right;">
                        <a class="btn btn-outline-dark" href="../E-CommerceFinal/cart.html" role="button">
                            <i class="fas fa-shopping-cart fa-1x"></i>
                        </a>
                        <div class="search-container">
                            <form action="/action_page.php">
                                <input type="text" placeholder="Search" id="search-input" class="form-control mx-sm-3 " aria-describedby="passwordHelpInline">
                                <button type="button" class="btn btn-outline-dark" id="search-btn" onclick="window.location.href = '../E-CommerceFinal/products.html';">
                                    <i class="fas fa-search fa-1x"></i>
                                </button>
                            </form>
                        </div>

                    </div>
                    <div class="hamburger my-auto" style="float: right;">
                        <a class="btn btn-outline-dark" id="hamburger-menu-btn" role="button">
                            <i class="fas fa-bars fa-2x" style="color:white;"></i>
                        </a>
                    </div>

                </div>


            </div>

        </div>
        <!--MOBILE DROP DOWN HEADER-->
        <div id="mobile-dropdown">
            <ul>
                <li>
                    <div class="search-container">
                        <form action="/action_page.php">
                            <input type="text" placeholder="Search" id="search-input" class="form-control mx-sm-3 " aria-describedby="passwordHelpInline">

                        </form>
                    </div>
                </li>
                <li><a class="btn  btn-lg btn-block" href="../E-CommerceFinal/home.html" role="button">Home</a></li>
                <li id="MDB_dropdown-toggle">
                    <a class="btn btn-lg btn-block" href="../E-CommerceFinal/products.html" role="button">Shop for Shoes  <i class="fa fa-caret-down"></i></a>
                    <!--DROP DOWN FOR THE MOBILE PRODUCTS BUTTON-->
                    <ul id="MDB_dropdown">
                        <li><a class="MDB" href="../E-CommerceFinal/products.html" role="button">Men's</a></li>
                        <li><a class="MDB" href="../E-CommerceFinal/products.html" role="button">Women's</a></li>
                        <li><a class="MDB" href="../E-CommerceFinal/products.html" role="button">Nike</a></li>
                        <li><a class="MDB" href="../E-CommerceFinal/products.html" role="button">Adidas</a></li>
                        <li><a class="MDB" href="../E-CommerceFinal/products.html" role="button">Other</a></li>
                    </ul>
                </li>

                <li><a class="btn  btn-lg btn-block" href="../E-CommerceFinal/home.html" role="button">About</a></li>
                <li><a class="btn  btn-lg btn-block" href="../E-CommerceFinal/cart.html" role="button">Cart  <i class="fas fa-shopping-cart fa-1x"></i></a></li>
            </ul>
        </div>
        <style>
            @media (min-width: 1801px) {
                #main-container {
                    padding: 0 25% 0 25%;
                }
            }

            @media (max-width: 1800px) {
                #main-header nav {
                    margin-left: 45%;
                }

                .hamburger {
                    visibility: collapse;
                    position: absolute;
                }

                #mobile-dropdown {
                    visibility: collapse;
                    position: absolute;
                }
            }

            @media (max-width: 1500px) {
                #main-header nav {
                    margin-left: 40%;
                }

                .hamburger {
                    visibility: collapse;
                    position: absolute;
                }

                #mobile-dropdown {
                    visibility: collapse;
                    position: absolute;
                }

                #main-container {
                    padding: 0 25% 0 25%;
                }
            }

            @media (max-width: 1300px) {
                #main-header nav {
                    margin-left: 30%;
                }

                .hamburger {
                    visibility: collapse;
                    position: absolute;
                }

                #mobile-dropdown {
                    visibility: collapse;
                    position: absolute;
                }

                #main-container {
                    padding: 0 25% 0 25%;
                }
            }

            @media (max-width: 1200px) {
                #main-header nav {
                    margin-left: 20%;
                }

                .hamburger {
                    visibility: collapse;
                    position: absolute;
                }

                #mobile-dropdown {
                    visibility: collapse;
                    position: absolute;
                }

                #main-container {
                    padding: 0 25% 0 25%;
                }
            }

            @media (max-width: 1000px) {
                #main-header nav {
                    margin-left: 0%;
                }

                .hamburger {
                    visibility: collapse;
                    position: absolute;
                }

                #mobile-dropdown {
                    visibility: collapse;
                    position: absolute;
                }

                #main-container {
                    padding: 0 15% 0 15%;
                }
            }

            @media (max-width: 970px) {
                #main-header nav, #main-header .form-inline, #center-col, #desktop-cart-review {
                    visibility: collapse;
                    position: absolute;
                }

                .hamburger {
                    visibility: visible;
                    position: inherit;
                    margin-left: 88%;
                }

                #mobile-dropdown {
                    visibility: visible;
                    position: inherit;
                }

                #main-container {
                    padding: 0 1% 0 1%;
                }
            }


            /* hides the default "spinner" on number type inputs */
            input[type=number]::-webkit-inner-spin-button,
            input[type=number]::-webkit-outer-spin-button {
                -webkit-appearance: none;
                margin: 0;
            }
        </style>
    </header>
    <script src="header-script.js" type="text/javascript"></script>
    <!------------------------------------------------PAGE CONTENTS------------------------------------------------>
    <!-- Modal popup for order confirmation -->
    <div class="modal fade" id="confirm-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="">Order Placed!</h5>
                </div>
                <div class="modal-body">
                    Thanks for shopping with us!
                </div>
                <div class="modal-footer">
                    <!-- Button linking back to homepage -->
                    <a role="button" href="../E-CommerceFinal/home.html" class="btn btn-success">Ok</a>
                </div>
            </div>
        </div>
    </div>
    <div style="padding: 3% 3%">
        <div id="main-container" class="row">
            <div class="col-8 mx-auto">
                <h2 style="padding-bottom:2%;">Shipping Address</h2>
                <form>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="firstname">First Name</label>
                            <input type="text" class="form-control checkout-form" id="" placeholder="John">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="lastname">Last Name</label>
                            <input type="text" class="form-control checkout-form" id="" placeholder="Doe">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="inputAddress">Address</label>
                        <input type="text" class="form-control checkout-form" id="inputAddress" placeholder="1234 Main St">
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="inputCity">City</label>
                            <input type="text" class="form-control checkout-form" id="inputCity" placeholder="City Name">
                        </div>
                        <div class="form-group col-md-4">
                            <label for="inputProvince">Province</label>
                            <select id="inputProvince" class="form-control checkout-form">
                                <option selected>Choose...</option>
                                <option>Alberta</option>
                                <option>British Columbia</option>
                                <option>Manitoba</option>
                                <option>New Brunswick</option>
                                <option>Newfoundland and Labrador</option>
                                <option>Nova Scotia</option>
                                <option>Ontario</option>
                                <option>Prince Edward Island</option>
                                <option>Saskatchewan</option>
                                <option>Quebec</option>
                            </select>
                        </div>
                        <div class="form-group col-md-2">
                            <label for="inputZip">Zip</label>
                            <input type="text" class="form-control checkout-form" id="inputZip">
                        </div>
                    </div>
                </form>
                <br />
                <h2 style="padding-bottom:2%;">Billing Address</h2>
                <!-- Checkbox that will "greyout" the billing address forms when selected -->
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="same-as-ship">
                    <label class="form-check-label" for="same-as-ship" style="padding-left: 20px;">
                        <b>Same as shipping</b>
                    </label>
                </div>
                <br />
                <form>
                    <!-- Div grouping first & last name inputs -->
                    <fieldset id="billing-addr">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="firstname">First Name</label>
                                <input type="text" class="form-control checkout-form" id="" placeholder="John">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="lastname">Last Name</label>
                                <input type="text" class="form-control checkout-form" id="" placeholder="Doe">
                            </div>
                        </div>
                        <div class="form-group">
                            <!-- Address input -->
                            <label for="inputAddress">Address</label>
                            <input type="text" class="form-control checkout-form" id="inputAddress" placeholder="1234 Main St">
                        </div>
                        <!-- City input -->
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="inputCity">City</label>
                                <input type="text" class="form-control checkout-form" id="inputCity" placeholder="City Name">
                            </div>
                            <!-- Province dropdown -->
                            <div class="form-group col-md-4">
                                <label for="inputProvince">Province</label>
                                <select id="inputProvince" class="form-control checkout-form">
                                    <!-- Options for the province selector-->
                                    <option selected>Choose...</option>
                                    <option>Alberta</option>
                                    <option>British Columbia</option>
                                    <option>Manitoba</option>
                                    <option>New Brunswick</option>
                                    <option>Newfoundland and Labrador</option>
                                    <option>Nova Scotia</option>
                                    <option>Ontario</option>
                                    <option>Prince Edward Island</option>
                                    <option>Saskatchewan</option>
                                    <option>Quebec</option>
                                </select>
                            </div>
                            <div class="form-group col-md-2">
                                <label for="inputZip">Zip</label>
                                <input type="text" class="form-control checkout-form" id="inputZip">
                            </div>
                        </div>
                    </fieldset>
                </form>
                <br />
                <h2 style="padding-bottom:2%;">Payment Method</h2>
                <!-- buttons that toggle between payment methods -->
                <div style="width:100%;" class="btn-group btn-group-toggle" data-toggle="buttons">
                    <label class="btn btn-secondary active btn-lg btn-block" id="credit-debit-btn">
                        <input type="radio" name="options" id="" autocomplete="off" checked>
                        <!-- Credit and debit button -->
                        <div class="container" style="width:inherit;">
                            <div class="row">
                                <div class="col text-left">
                                    Credit/Debit
                                </div>
                                <div class="col text-right">
                                    <i class="fab fa-cc-visa"></i>
                                    <i class="fab fa-cc-mastercard"></i>
                                    <i class="fab fa-cc-apple-pay"></i>
                                </div>
                            </div>
                        </div>
                    </label>
                    <label class="btn btn-secondary btn-lg btn-block" id="pp-btn">
                        <input type="radio" name="options" id="" autocomplete="off">
                        <div class="container" style="width:inherit;">
                            <div class="row">
                                <div class="col text-left">
                                    Paypal
                                </div>
                                <div class="col text-right">
                                    <i class="fab fa-paypal"></i>
                                </div>
                            </div>
                        </div>
                    </label>
                </div>
                <br />
                <br />
                <form>
                    <fieldset id="payment-info">
                        <div class="form-group">
                            <!-- Card number input -->
                            <label for="inputAddress">Name On Card</label>
                            <input type="text" class="form-control checkout-form" id="inputAddress" placeholder="Cardholder's name">
                        </div>
                        <div class="form-group">
                            <!-- Card number input -->
                            <label for="inputAddress">Card Number</label>
                            <input type="number" class="form-control checkout-form" id="inputAddress" placeholder="Debit/Credit Card Number">
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-8">
                                <label for="firstname">Expiration Date</label>
                                <input type="text" class="form-control checkout-form" id="" placeholder="MM/YY">
                            </div>
                            <div class="form-group col-md-4">
                                <label for="lastname">CVV</label>
                                <input type="number" class="form-control checkout-form" id="" placeholder="123">
                            </div>
                        </div>
                    </fieldset>
                </form>
                <button id="place-order-btn" type="button" class="btn btn-success btn-lg btn-block"><b>Place Order</b></button>
            </div>
            <div class="col-4" id="desktop-cart-review">
                <div class="card">
                    <h5 class="card-header">Shopping Cart Overview</h5>
                    <div class="card-body">
                        <span>
                            <h5 class="subtotaltax" style="font-weight: bold;">Sub Total:  </h5><h5 id="subTotal">0</h5>
                            <h5 class="subtotaltax" style="font-weight: bold;">Shipping & Tax:  </h5><h5 id="shipping">0</h5>
                            <h5 style="font-weight: bold;">Total:</h5><h5 id="total">0</h5>
                        </span>

                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        //code to "disable" the billing address area when the "same as shipping" box is ticked
        $(function () {
            var sameBtn = $('#same-as-ship');
            var billAdr = document.getElementById("billing-addr");
            sameBtn.click(function () {
                if (sameBtn.prop('checked')) {
                    console.log("check");
                    //disabling the fields when checked
                    $(billAdr).prop('disabled', true);
                } else {
                    console.log("uncheck");
                    //re-enabling the fields when unchecked
                    $(billAdr).prop('disabled', false);
                }
            });
        });

        //button to toggle the "disabled" attibute of the payment method section
        $(function () {
            var ppBtn = $("#pp-btn");
            var credDebBtn = $("#credit-debit-btn");
            var payInfo = document.getElementById("payment-info");
            ppBtn.click(function () {
                //disabling the forms when the "paypal" button is clicked
                $(payInfo).prop('disabled', true);
            });
            credDebBtn.click(function () {
                if ($(ppBtn).hasClass('active')) {
                    $(payInfo).prop('disabled', false);
                    //removing the disabled attribute when the credit/debit button is clicked
                } else {
                    console.log("unexpected situation");
                }
            });
        });

        //code to alert the user of any empty/unfilled
        $(function () {
            var orderBtn = $('#place-order-btn');
            var billAdr = document.getElementById("billing-addr");
            orderBtn.click(function () {
                var emptyField = false;
                $(".checkout-form").each(function (index) {
                    console.log($(this).val());
                    if ($(this).val().length === 0 && !($(this).is(':disabled'))) {
                        //adding a red border to all empty fields

                        $(this).addClass('border border-danger');
                        emptyField = true;
                    } else if ($(this).val() === "Choose..." && !($(this).is(':disabled'))) {
                        $(this).addClass('border border-danger');
                    }else if ($(this).hasClass('border border-danger')) {
                        $(this).removeClass('border border-danger');
                    }
                });
                if(!emptyField){
                    $('#confirm-modal').modal('show');
                    console.log("order processed");
                }

            });
        });
    </script>

    <!--FOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOTER-->
    <footer>
        <style>
            footer {
                background-color: black;
            }

            .footerWrapper {
                text-align: center;
            }

            .footer {
                background-color: black;
                display: inline-block;
                padding-right: 2.5%;
                padding-left: 2.5%;
                padding-bottom: 2%;
                padding-top: 2%;
                text-align: left;
            }

                .footer h3 {
                    position: relative;
                    margin-left: 0%;
                    bottom: 0;
                    padding-left: 0%;
                    padding-top: 2%;
                    width: 100%;
                    color: white;
                    text-align: left;
                }

                .footer nav {
                    padding-bottom: 1%;
                    list-style-type: none;
                }

                    .footer nav ul {
                        list-style-type: none;
                    }

                        .footer nav ul li a {
                            position: relative;
                            margin-left: 0%;
                            bottom: 0;
                            padding-left: 0%;
                            width: 100%;
                            color: grey;
                            text-align: left;
                            list-style-type: none;
                        }


            .footerEnd {
                position: relative;
                bottom: 0;
                margin: 0;
                width: 100%;
                background-color: black;
                border-top: solid;
                border-width: medium;
                border-color: grey;
                color: grey;
                padding-top: 0.4%;
                padding-bottom: 0.4%;
                text-align: center;
            }
        </style>

        <script>
            $("#PicID a").click(function () {
                var alt = $(this).children("img").attr("alt");
                sessionStorage.setItem("product", alt);
            });

            var retrieveCart = sessionStorage.getItem("cart");
            var cartCheckout = JSON.parse(retrieveCart);
            var len = cartCheckout.length;
            let unique = [...new Set(cartCheckout)];

            console.log(unique);


            var data = {
                "product": [
                    {
                        "price": 240,
                    },
                    {
                        "price": 240,
                    },
                    {
                        "price": 265,
                    },
                    {
                        "price": 175,
                    },
                    {
                        "price": 230,
                    },
                    {
                        "price": 120,
                    },
                    {
                        "price": 330,
                    },
                    {
                        "price": 250,
                    },
                    {
                        "price": 120,
                    },
                    {

                        "price": 170,
                    },
                    {

                        "price": 140,

                    },
                    {

                        "price": 250,

                    },
                    {

                        "price": 120,

                    },
                    {

                        "price": 80,

                    },
                    {

                        "price": 100,

                    },
                    {

                        "price": 190,

                    },
                ]
            }

            var total = 0
            for (var i = 0; i < len; i++) {
                var ind = cartCheckout[i];
                var currentPrice = data.product[ind].price;
                total = total + currentPrice;
                console.log(total);
            }
            var tax = (total * 0.13 + 5)
            var roundTax = Math.round(tax);
            var totalTotal = 0;
            totalTotal = total + tax;
            var roundTotal = Math.round(totalTotal);

            if (len == 0) {
                document.getElementById('subTotal').innerHTML = "$" + 0;
                document.getElementById('shipping').innerHTML = "$" + 0;
                document.getElementById('total').innerHTML = "$" + 0;
            }
            else if (len > 0) {
                document.getElementById('subTotal').innerHTML = "$" + total
                document.getElementById('shipping').innerHTML = "$" + (roundTax);
                document.getElementById('total').innerHTML = "$" + (roundTotal);
            }

        </script>


        <div class="footerWrapper">
            <div class="footer">
                <nav>
                    <h3>Navigation</h3>
                    <ul>
                        <li><a href="../E-CommerceFinal/home.html">Home</a></li>
                        <li><a href="../E-CommerceFinal/products.html">Shop for Shoes</a></li>
                        <li><a href="../E-CommerceFinal/about.html">About</a></li>
                        <li><a href="../E-CommerceFinal/cart.html">Cart</a></li>
                    </ul>
                </nav>
            </div>

            <div class="footer">
                <nav>
                    <h3>Customer Service</h3>
                    <ul>
                        <li><a href="https://www.google.com/maps" target="_blank">Order Tracking</a></li>
                        <li><a href="https://www.google.com/maps" target="_blank">Store Locations</a></li>
                        <li><a href="https://www.youtube.com/watch?v=unSEV4v3qJI" target="_blank">Promotions</a></li>
                        <li><a href="https://www.youtube.com/watch?v=wT7B-zkE7lk" target="_blank">Warranty</a></li>
                    </ul>
                </nav>
            </div>

            <div class="footer">
                <nav>
                    <h3>Follow Us</h3>
                    <ul>
                        <li><a href="https://twitter.com/Wendys?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor" target="_blank"><i class="fab fa-twitter"></i> Twitter</a></li>
                        <li><a href="https://www.instagram.com/beansinplacesbeansshouldnotbe/" target="_blank"><i class="fab fa-instagram"></i> Instagram</a></li>
                        <li><a href="https://www.facebook.com/DinosaurEarthSociety/" target="_blank"><i class="fab fa-facebook"></i> Facebook</a></li>
                        <li><a href="https://www.youtube.com/channel/UCa6TeYZ2DlueFRne5DyAnyg" target="_blank"><i class="fab fa-youtube"></i> Youtube</a></li>
                    </ul>
                </nav>
            </div>
        </div>



        <div class="footerEnd">
            Made by Ethan McIntyre, Jacob Lapish, and Andrew Holland  <i class="fas fa-american-sign-language-interpreting"></i>
        </div>

    </footer>
</body>
</html>